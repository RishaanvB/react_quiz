(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(8),a=n.n(c),o=(n(14),n(2)),i=(n(15),n(9)),u=n(0);function l(e){return Object(u.jsx)("div",{className:"answers-list",children:e.children})}function d(e){return Object(u.jsx)("div",{className:"container-question",children:e.question?Object(u.jsx)("h1",{className:"question",dangerouslySetInnerHTML:{__html:e.question}}):Object(u.jsx)("h1",{style:{margin:"auto ",padding:"1.5rem 1rem",fontSize:"1.2rem",color:"white",fontWeight:"lighter"},children:"LOADING QUESTION..."})})}function j(e){var t=e.currentQuestion,n=e.maxRounds;return Object(u.jsxs)("div",{className:"progression-container",children:[Object(u.jsx)("div",{className:"progression-bar",children:Object(u.jsx)("span",{style:{width:t/n*100+"%"},className:"progress-bar-fill"})}),Object(u.jsx)("span",{className:"questions-progression-container",children:Object(u.jsxs)("span",{className:"questions-percentage",children:[t," ",Object(u.jsx)("span",{className:"question-percentage-divider",children:"/"})," ",n]})})]})}var b=function(e){var t=e.answer,n=e.isCorrectAnswer,r=e.onHandleAnswerGiven,s=e.changeBgOnFalsePick;return Object(u.jsx)("button",{onClick:function(e){return r(e,n)},className:"change"===s?"btn btn-answer show-correct-answer":"btn btn-answer ",dangerouslySetInnerHTML:{__html:t}})},h=function(e,t){e.classList.add(t)},m=function(e,t){document.querySelectorAll(e).forEach((function(e){if("enable"===t)e.disabled=!1;else{if("disable"!==t)throw new Error('Second argument is incorrect or missing, choose either "enable" or "disable" ');e.disabled=!0}}))},f=function(e){var t=["st","nd","rd","th"];return e<4?t[e]:t[3]},p=(n(17),function(e){var t=e.triviaData,n=e.updateScore,s=e.maxRounds,c=e.onHandleView,a=e.onSetCurrentQuestion,f=e.currentQuestion,p=Object(r.useState)(!1),O=Object(o.a)(p,2),x=O[0],v=O[1],g=Object(r.useState)(),w=Object(o.a)(g,2),N=w[0],S=w[1];Object(r.useEffect)((function(){document.querySelectorAll(".answers-list").forEach((function(e){for(var t=e.children.length;t>=0;t--)e.appendChild(e.children[Math.random()*t|0])}))}),[]);var k=function(e,t){t?function(e){h(e.target,"correct-answer-given")}(e):function(e){h(e.target,"wrong-answer-given"),setTimeout((function(){S("change")}),50)}(e)},C=function(e,t){m(".btn","disable"),setTimeout((function(){m(".btn","enable")}),1e3),v(!0),k(e,t),t&&n(),f>=s?setTimeout((function(){c("result")}),1e3):f<s&&a((function(e){return e+1}))},y=Object(i.a)(Array(3)).map((function(e,n){return Object(u.jsx)(b,{answer:t.incorrect_answers[n],onHandleAnswerGiven:C},n)})),q=Object(u.jsx)(b,{answer:t.correct_answer,isCorrectAnswer:!0,onHandleAnswerGiven:C,changeBgOnFalsePick:N});return Object(u.jsxs)("div",{className:x?"triviaCard animateCard":"triviaCard intoView",children:[Object(u.jsx)(d,{question:t.question}),Object(u.jsxs)("div",{className:"bottom-triviaCard",children:[Object(u.jsx)(j,{currentQuestion:f,maxRounds:s}),Object(u.jsxs)(l,{children:[y,q]})]})]})}),O=n(3),x=n.n(O),v=n(4),g=function(){var e=Object(v.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r=n.token,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=reset&token=".concat(localStorage.getItem("token")));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r=n.token,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r,s,c,a,o,i,u=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:"easy",e.prev=1,s=function(){var e=Object(v.a)(x.a.mark((function e(){var t,s,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("https://opentdb.com/api.php?amount=".concat(n,"&type=multiple&difficulty=").concat(r,"&token=").concat(t));case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.next=9,c.response_code;case 9:return a=e.sent,e.abrupt("return",[a,c.results]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,s();case 5:c=e.sent,e.t0=c[0],e.next=0===e.t0?9:1===e.t0?12:2===e.t0?14:3===e.t0?16:4===e.t0?27:39;break;case 9:return console.log("token found and getting results"),t(c[1]),e.abrupt("break",40);case 12:throw console.log("Code 1: No Results Could not return results. The API doesn't have enough questions for your query. (Ex. Asking for 50 Questions in a Category that only has 20.)"),new Error("Code 1, No results could be returned");case 14:throw console.log("Code 2: Invalid Parameter Contains an invalid parameter. Arguements passed in aren't valid. (Ex. Amount = Five)"),new Error("Code 2, Invalid input");case 16:return console.log("token not found or does not exist"),e.next=19,g().then((function(e){return e}));case 19:return a=e.sent,localStorage.setItem("token",a),console.log("token created and stored in localstorage"),e.next=24,s();case 24:return o=e.sent,t(o[1]),e.abrupt("break",40);case 27:return console.log("token expired resetting  token"),e.next=30,w().then((function(e){return e}));case 30:return i=e.sent,localStorage.setItem("token",i),console.log("token created and stored in localstorage"),t(c[1]),e.next=36,s();case 36:return o=e.sent,t(o[1]),e.abrupt("break",40);case 39:return e.abrupt("break",40);case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(1),console.log("Trivia data could not be loaded!"),console.log(e.t1);case 46:case"end":return e.stop()}}),e,null,[[1,42]])})));return function(t,n){return e.apply(this,arguments)}}();var S=function(e){var t=e.updateScore,n=e.onHandleView,s=e.maxRounds,c=e.currentQuestion,a=e.setCurrentQuestion,i=Object(r.useState)(s),l=Object(o.a)(i,2),d=l[0],j=(l[1],Object(r.useState)([])),b=Object(o.a)(j,2),h=b[0],m=b[1];Object(r.useEffect)((function(){N(m,d)}),[d]),Object(r.useEffect)((function(){document.title="Question #".concat(c)}),[c]);var f=h.map((function(e,r){return Object(u.jsx)(p,{triviaData:e,updateScore:t,maxRounds:s,onHandleView:n,onSetCurrentQuestion:a,currentQuestion:c},r)}));return Object(u.jsx)(u.Fragment,{children:f})},k=(n(19),n.p+"static/media/Star_perspective_matte_s.cd45e3ae.png"),C=n.p+"static/media/trophy.d62c1a9a.svg",y="https://react-quiz-backend.herokuapp.com/users",q=function(){var e=Object(v.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,r,s,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t.username,score:t.score},r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,fetch(y,r);case 5:return s=e.sent,e.next=8,s.json();case 8:c=e.sent,console.log(c.errors),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();function _(e){var t=e.inputLength;return Object(u.jsx)("p",{children:t>8?"Should be of length 1-8":"Don't use spaces or special characters"})}function A(e){var t=e.score,n=e.handleScoreSubmission,s=e.isScoreSubmitted,c=Object(r.useState)(!1),a=Object(o.a)(c,2),i=a[0],l=a[1],d=Object(r.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(r.useRef)(null);Object(r.useEffect)((function(){return f()})),Object(r.useEffect)((function(){m.current.focus()}),[]);var f=function(){b.match(/^[a-zA-Z0-9_]{1,8}$/)&&l(!0),!b.match(/^[a-zA-Z0-9_]{1,8}$/)&&l(!1)},p=Object(u.jsx)("button",{disabled:!i,className:i?"btn-submit-score btn":"btn-submit-score btn btn-disabled",children:"Submit Score"}),O=Object(u.jsx)("input",{className:"btn",type:"text",name:"username",id:"username",placeholder:"Your Name",value:b,onChange:function(e){h(e.target.value),f()},ref:m});return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"scoreForm",onSubmit:function(e){e.preventDefault();var r=e.target.username.value;n(),E({username:r,score:t})},action:"",method:"POST",children:[!s&&O,b.length>0&&!i&&Object(u.jsx)(_,{inputLength:b.length}),!s&&p]})})}n(20);var H=function(e){return Object(u.jsxs)("section",{className:"modal",onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("p",{className:"modal-text",children:"Your score has been submitted!"}),Object(u.jsx)("button",{className:"btn btn-modal",onClick:function(){return e.handleClose(!1)},children:"OK"})]})},Q=function(e){var t=e.children,n=e.handleClose;return Object(u.jsx)("div",{className:"backdrop",onClick:function(){return n(!1)},children:t})};function I(e){var t=e.maxRounds,n=e.score,s=e.handleView,c=e.resetGame;e.setCurrentQuestion;Object(r.useEffect)((function(){return document.title="Results!"}));var a=Object(r.useState)(!1),i=Object(o.a)(a,2),l=i[0],d=i[1],j=Object(r.useState)(!1),b=Object(o.a)(j,2),h=b[0],m=b[1],f=n/t*100,p=Object(u.jsx)("button",{onClick:c,className:"btn btn-restart",children:"Restart"},"restart"),O=Object(u.jsx)("button",{onClick:function(){return s("highscores")},className:"btn btn-goto-highscores",children:"Highscores"},"highscore");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"result-screen-container intoView",children:[Object(u.jsxs)("section",{className:"star-images-container",children:[Object(u.jsx)("img",{className:"star-image first",src:k,alt:"star"}),Object(u.jsx)("img",{className:"star-image second",src:k,alt:"star"}),Object(u.jsx)("img",{className:"star-image third",src:k,alt:"star"})]}),Object(u.jsxs)("div",{className:"results-tally",children:[Object(u.jsxs)("h3",{children:[n,"/",t]}),Object(u.jsxs)("h2",{children:[f,"% CORRECT!"]})]}),Object(u.jsx)("img",{className:"trophy",src:C,alt:"trophy"}),Object(u.jsx)(A,{score:n,handleScoreSubmission:function(){d(!0),m(!0)},isScoreSubmitted:l}),l&&[p,O]]}),h&&Object(u.jsx)(Q,{handleClose:function(){return m(!1)},children:Object(u.jsx)(H,{handleClose:function(){return m(!1)}})})]})}n(21);var R=n.p+"static/media/Trophy_perspective_matte_s.a34d1ab4.png";function V(e){return Object(u.jsxs)("div",{className:"player-data ",children:[Object(u.jsxs)("p",{className:"player-first",children:[1===e.position&&Object(u.jsx)("img",{className:"player-first-icon",src:R,alt:""}),e.position,Object(u.jsx)("span",{className:"ordinal",children:e.ordinal})]}),Object(u.jsx)("p",{children:e.data.username}),Object(u.jsx)("p",{children:e.data.score})]})}function T(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,e.next=5,s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=n.map((function(e,t){return Object(u.jsx)(V,{position:t+1,data:e,ordinal:f(t)},e._id)}));return Object(u.jsx)("div",{children:a})}function z(e){return Object(r.useEffect)((function(){return document.title="Highscores"})),Object(u.jsxs)("div",{className:"highscores-container intoView",children:[Object(u.jsxs)("div",{className:"metadata-container",children:[Object(u.jsxs)("div",{className:"highscores-metadata",children:[Object(u.jsx)("p",{children:"Pos."}),Object(u.jsx)("p",{children:"Name"}),Object(u.jsx)("p",{children:"Score"})]}),Object(u.jsx)("div",{className:"players-container",children:Object(u.jsx)(T,{})})]}),Object(u.jsx)("button",{className:"btn",onClick:function(){return e.onHandleView("home")},children:"Back to Home"})]})}var F=n.p+"static/media/FAQ_perspective_matte.1a53285a.png";n(22);function G(e){return Object(r.useEffect)((function(){document.title="Quiz Home"})),Object(u.jsxs)("div",{className:"homescreen intoView",children:[Object(u.jsx)("img",{className:"homescreen-logo",src:F,alt:"questionmark logo"}),Object(u.jsx)("h1",{className:"quiz-title",children:"QUIZKNOWS"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-start",onClick:e.resetGame,children:"Start"}),Object(u.jsx)("button",{className:"btn btn-highscores",onClick:function(){return e.onHandleView("highscores")},children:"Highscores"})]})]})}var P=function(){var e=Object(r.useState)("home"),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(0),a=Object(o.a)(c,2),i=a[0],l=a[1],d=Object(r.useState)(1),j=Object(o.a)(d,2),b=j[0],h=j[1],m=Object(r.useState)(10),f=Object(o.a)(m,2),p=f[0];f[1],Object(r.useEffect)((function(){!function(e){if(!["home","quiz","result","highscores"].includes(e))throw new Error("Invalid gamestate!!!, choose one of the following in App.js: home, quiz, result, highscores")}(n)}),[n]);var O=function(){l(0),h(1),v("quiz")},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l(i+e)},v=function(e){s(e)};return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("div",{className:"container",children:function(){var e=Object(u.jsx)(G,{onHandleView:v,resetGame:O}),t=Object(u.jsx)(S,{maxRounds:p,score:i,onHandleView:v,updateScore:x,currentQuestion:b,setCurrentQuestion:h}),r=Object(u.jsx)(I,{score:i,maxRounds:p,handleView:v,resetGame:O,setCurrentQuestion:h}),s=Object(u.jsx)(z,{onHandleView:v});switch(n){case"home":return e;case"quiz":return t;case"result":return r;case"highscores":return s}}()})})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.15a425c1.chunk.js.map